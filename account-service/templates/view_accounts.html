<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>View Accounts</title>
<style>
body {
  font-family: 'Poppins', sans-serif;
  background: url('https://img.freepik.com/premium-vector/financial-banking-technology-concept_387612-31.jpg') no-repeat center center/cover;
  min-height: 100vh;
  color: white;
  padding: 40px;
}

h2 {
  margin-bottom: 20px;
  text-align: center;
}

table {
  width: 100%;
  border-collapse: collapse;
  background: rgba(0, 0, 0, 0.6);
  border-radius: 15px;
  overflow: hidden;
}

th, td {
  padding: 15px;
  text-align: left;
}

th {
  background: #0078ff;
}

tr:nth-child(even) {
  background: rgba(255, 255, 255, 0.1);
}

.back-btn {
  display: inline-block;
  margin-bottom: 20px;
  background-color: #0078ff;
  padding: 10px 20px;
  border-radius: 8px;
  color: white;
  text-decoration: none;
}

.back-btn:hover {
  background-color: #005fcc;
}

.action-btn {
  padding: 8px 15px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  color: white;
  font-weight: bold;
}

.edit-btn {
  background-color: #28a745;
}

.edit-btn:hover {
  background-color: #1e7e34;
}

.delete-btn {
  background-color: #dc3545;
}

.delete-btn:hover {
  background-color: #a71d2a;
}
</style>
</head>
<body>
  <a href="/account" class="back-btn">â¬… Back</a>
  <h2>All Account Details</h2>

  {% if accounts %}
  <table>
    <tr>
      <th>Full Name</th>
      <th>Username</th>
      <th>Email</th>
      <th>Phone</th>
      <th>DOB</th>
      <th>Gender</th>
      <th>Address</th>
      <th>Account No</th>
      <th>Type</th>
      <th>Branch</th>
      <th>IFSC</th>
      <th>Actions</th>
    </tr>
    {% for acc in accounts %}
    <tr>
      <td>{{ acc.fullname }}</td>
      <td>{{ acc.username }}</td>
      <td>{{ acc.email }}</td>
      <td>{{ acc.phone }}</td>
      <td>{{ acc.dob }}</td>
      <td>{{ acc.gender }}</td>
      <td>{{ acc.address }}</td>
      <td>{{ acc.account_number }}</td>
      <td>{{ acc.account_type }}</td>
      <td>{{ acc.branch }}</td>
      <td>{{ acc.ifsc }}</td>
      <td>
        <form action="{{ url_for('edit_account', id=acc.id) }}" method="get" style="display:inline;">
          <button type="submit" class="action-btn edit-btn">Edit</button>
        </form>

        <form action="{{ url_for('delete_account', id=acc.id) }}" method="post" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this account?');">
          <button type="submit" class="action-btn delete-btn">Remove</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </table>
  {% else %}
  <p>No accounts found.</p>
  {% endif %}
</body>
</html>
